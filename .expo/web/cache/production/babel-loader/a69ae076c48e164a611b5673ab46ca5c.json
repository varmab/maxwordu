{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"disabled\",\"editable\",\"label\",\"error\",\"selectionColor\",\"underlineColor\",\"activeUnderlineColor\",\"dense\",\"style\",\"theme\",\"render\",\"multiline\",\"parentState\",\"innerRef\",\"onFocus\",\"forceFocus\",\"onBlur\",\"onChangeText\",\"onLayoutAnimatedText\",\"onLeftAffixLayoutChange\",\"onRightAffixLayoutChange\",\"left\",\"right\",\"placeholderTextColor\"],_excluded2=[\"fontSize\",\"fontWeight\",\"height\",\"paddingHorizontal\",\"textAlign\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import*as React from'react';import View from\"react-native-web/dist/exports/View\";import Animated from\"react-native-web/dist/exports/Animated\";import NativeTextInput from\"react-native-web/dist/exports/TextInput\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import I18nManager from\"react-native-web/dist/exports/I18nManager\";import Platform from\"react-native-web/dist/exports/Platform\";import color from'color';import InputLabel from\"./Label/InputLabel\";import TextInputAdornment from\"./Adornment/TextInputAdornment\";import{MAXIMIZED_LABEL_FONT_SIZE,MINIMIZED_LABEL_FONT_SIZE,LABEL_WIGGLE_X_OFFSET,ADORNMENT_SIZE,FLAT_INPUT_OFFSET}from\"./constants\";import{calculateLabelTopPosition,calculateInputHeight,calculatePadding,adjustPaddingFlat,interpolatePlaceholder,calculateFlatAffixTopPosition,calculateFlatInputHorizontalPadding}from\"./helpers\";import{getAdornmentConfig,getAdornmentStyleAdjustmentForNativeInput}from\"./Adornment/TextInputAdornment\";import{AdornmentSide,AdornmentType,InputMode}from\"./Adornment/enums\";var MINIMIZED_LABEL_Y_OFFSET=-18;var LABEL_PADDING_TOP=30;var LABEL_PADDING_TOP_DENSE=24;var MIN_HEIGHT=64;var MIN_DENSE_HEIGHT_WL=52;var MIN_DENSE_HEIGHT=40;var TextInputFlat=function TextInputFlat(_ref){var _affixTopPosition,_onAffixChange,_topPosition;var _ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$editable=_ref.editable,editable=_ref$editable===void 0?true:_ref$editable,label=_ref.label,_ref$error=_ref.error,error=_ref$error===void 0?false:_ref$error,selectionColor=_ref.selectionColor,underlineColor=_ref.underlineColor,activeUnderlineColor=_ref.activeUnderlineColor,dense=_ref.dense,style=_ref.style,theme=_ref.theme,_ref$render=_ref.render,render=_ref$render===void 0?function(props){return React.createElement(NativeTextInput,props);}:_ref$render,_ref$multiline=_ref.multiline,multiline=_ref$multiline===void 0?false:_ref$multiline,parentState=_ref.parentState,innerRef=_ref.innerRef,onFocus=_ref.onFocus,forceFocus=_ref.forceFocus,onBlur=_ref.onBlur,onChangeText=_ref.onChangeText,onLayoutAnimatedText=_ref.onLayoutAnimatedText,onLeftAffixLayoutChange=_ref.onLeftAffixLayoutChange,onRightAffixLayoutChange=_ref.onRightAffixLayoutChange,left=_ref.left,right=_ref.right,placeholderTextColor=_ref.placeholderTextColor,rest=_objectWithoutProperties(_ref,_excluded);var isAndroid=Platform.OS==='android';var colors=theme.colors,fonts=theme.fonts;var font=fonts.regular;var hasActiveOutline=parentState.focused||error;var _ref3=StyleSheet.flatten(style)||{},fontSizeStyle=_ref3.fontSize,fontWeight=_ref3.fontWeight,height=_ref3.height,paddingHorizontal=_ref3.paddingHorizontal,textAlign=_ref3.textAlign,viewStyle=_objectWithoutProperties(_ref3,_excluded2);var fontSize=fontSizeStyle||MAXIMIZED_LABEL_FONT_SIZE;var isPaddingHorizontalPassed=paddingHorizontal!==undefined&&typeof paddingHorizontal==='number';var adornmentConfig=getAdornmentConfig({left:left,right:right});var _calculateFlatInputHo=calculateFlatInputHorizontalPadding({adornmentConfig:adornmentConfig}),paddingLeft=_calculateFlatInputHo.paddingLeft,paddingRight=_calculateFlatInputHo.paddingRight;if(isPaddingHorizontalPassed){paddingLeft=paddingHorizontal;paddingRight=paddingHorizontal;}var leftLayout=parentState.leftLayout,rightLayout=parentState.rightLayout;var rightAffixWidth=right?rightLayout.width||ADORNMENT_SIZE:ADORNMENT_SIZE;var leftAffixWidth=left?leftLayout.width||ADORNMENT_SIZE:ADORNMENT_SIZE;var adornmentStyleAdjustmentForNativeInput=getAdornmentStyleAdjustmentForNativeInput({adornmentConfig:adornmentConfig,rightAffixWidth:rightAffixWidth,leftAffixWidth:leftAffixWidth,paddingHorizontal:paddingHorizontal,inputOffset:FLAT_INPUT_OFFSET,mode:InputMode.Flat});var inputTextColor,activeColor,underlineColorCustom,placeholderColor,errorColor;if(disabled){inputTextColor=activeColor=color(colors.text).alpha(0.54).rgb().string();placeholderColor=colors.disabled;underlineColorCustom='transparent';}else{inputTextColor=colors.text;activeColor=error?colors.error:activeUnderlineColor||colors.primary;placeholderColor=colors.placeholder;errorColor=colors.error;underlineColorCustom=underlineColor||colors.disabled;}var containerStyle={backgroundColor:theme.dark?color(colors.background).lighten(0.24).rgb().string():color(colors.background).darken(0.06).rgb().string(),borderTopLeftRadius:theme.roundness,borderTopRightRadius:theme.roundness};var labelScale=MINIMIZED_LABEL_FONT_SIZE/fontSize;var fontScale=MAXIMIZED_LABEL_FONT_SIZE/fontSize;var labelWidth=parentState.labelLayout.width;var labelHeight=parentState.labelLayout.height;var labelHalfWidth=labelWidth/2;var labelHalfHeight=labelHeight/2;var baseLabelTranslateX=(I18nManager.isRTL?1:-1)*(labelHalfWidth-labelScale*labelWidth/2)+(1-labelScale)*(I18nManager.isRTL?-1:1)*paddingLeft;var minInputHeight=dense?(label?MIN_DENSE_HEIGHT_WL:MIN_DENSE_HEIGHT)-LABEL_PADDING_TOP_DENSE:MIN_HEIGHT-LABEL_PADDING_TOP;var inputHeight=calculateInputHeight(labelHeight,height,minInputHeight);var topPosition=calculateLabelTopPosition(labelHeight,inputHeight,multiline&&height?0:!height?minInputHeight/2:0);if(height&&typeof height!=='number'){console.warn('Currently we support only numbers in height prop');}var paddingSettings={height:height?+height:null,labelHalfHeight:labelHalfHeight,offset:FLAT_INPUT_OFFSET,multiline:multiline?multiline:null,dense:dense?dense:null,topPosition:topPosition,fontSize:fontSize,label:label,scale:fontScale,isAndroid:isAndroid,styles:StyleSheet.flatten(dense?styles.inputFlatDense:styles.inputFlat)};var pad=calculatePadding(paddingSettings);var paddingFlat=adjustPaddingFlat(_objectSpread(_objectSpread({},paddingSettings),{},{pad:pad}));var baseLabelTranslateY=-labelHalfHeight-(topPosition+MINIMIZED_LABEL_Y_OFFSET);var placeholderOpacity=hasActiveOutline?interpolatePlaceholder(parentState.labeled,hasActiveOutline):parentState.labelLayout.measured?1:0;var minHeight=height||(dense?label?MIN_DENSE_HEIGHT_WL:MIN_DENSE_HEIGHT:MIN_HEIGHT);var flatHeight=inputHeight+(!height?dense?LABEL_PADDING_TOP_DENSE:LABEL_PADDING_TOP:0);var iconTopPosition=(flatHeight-ADORNMENT_SIZE)/2;var leftAffixTopPosition=leftLayout.height?calculateFlatAffixTopPosition(_objectSpread(_objectSpread({height:flatHeight},paddingFlat),{},{affixHeight:leftLayout.height})):null;var rightAffixTopPosition=rightLayout.height?calculateFlatAffixTopPosition(_objectSpread(_objectSpread({height:flatHeight},paddingFlat),{},{affixHeight:rightLayout.height})):null;var labelProps={label:label,onLayoutAnimatedText:onLayoutAnimatedText,placeholderOpacity:placeholderOpacity,error:error,placeholderStyle:styles.placeholder,baseLabelTranslateY:baseLabelTranslateY,baseLabelTranslateX:baseLabelTranslateX,font:font,fontSize:fontSize,fontWeight:fontWeight,labelScale:labelScale,wiggleOffsetX:LABEL_WIGGLE_X_OFFSET,topPosition:topPosition,paddingOffset:{paddingLeft:paddingLeft,paddingRight:paddingRight},hasActiveOutline:hasActiveOutline,activeColor:activeColor,placeholderColor:placeholderColor,errorColor:errorColor,roundness:theme.roundness,maxFontSizeMultiplier:rest.maxFontSizeMultiplier};var affixTopPosition=(_affixTopPosition={},_defineProperty(_affixTopPosition,AdornmentSide.Left,leftAffixTopPosition),_defineProperty(_affixTopPosition,AdornmentSide.Right,rightAffixTopPosition),_affixTopPosition);var onAffixChange=(_onAffixChange={},_defineProperty(_onAffixChange,AdornmentSide.Left,onLeftAffixLayoutChange),_defineProperty(_onAffixChange,AdornmentSide.Right,onRightAffixLayoutChange),_onAffixChange);var adornmentProps={paddingHorizontal:paddingHorizontal,adornmentConfig:adornmentConfig,forceFocus:forceFocus,topPosition:(_topPosition={},_defineProperty(_topPosition,AdornmentType.Affix,affixTopPosition),_defineProperty(_topPosition,AdornmentType.Icon,iconTopPosition),_topPosition),onAffixChange:onAffixChange,isTextInputFocused:parentState.focused,maxFontSizeMultiplier:rest.maxFontSizeMultiplier};if(adornmentConfig.length){adornmentProps=_objectSpread(_objectSpread({},adornmentProps),{},{left:left,right:right,textStyle:_objectSpread(_objectSpread({},font),{},{fontSize:fontSize,fontWeight:fontWeight}),visible:parentState.labeled});}return React.createElement(View,{style:[containerStyle,viewStyle]},React.createElement(Underline,{parentState:parentState,underlineColorCustom:underlineColorCustom,error:error,colors:colors,activeColor:activeColor}),React.createElement(View,{style:[styles.labelContainer,{minHeight:minHeight}]},!isAndroid&&multiline&&label&&React.createElement(View,{testID:\"patch-container\",pointerEvents:\"none\",style:[StyleSheet.absoluteFill,dense?styles.densePatchContainer:styles.patchContainer,{backgroundColor:viewStyle.backgroundColor||containerStyle.backgroundColor,left:paddingLeft,right:paddingRight}]}),React.createElement(InputLabel,{parentState:parentState,labelProps:labelProps}),render===null||render===void 0?void 0:render(_objectSpread(_objectSpread({testID:'text-input-flat'},rest),{},{ref:innerRef,onChangeText:onChangeText,placeholder:label?parentState.placeholder:rest.placeholder,placeholderTextColor:placeholderTextColor!==null&&placeholderTextColor!==void 0?placeholderTextColor:placeholderColor,editable:!disabled&&editable,selectionColor:typeof selectionColor==='undefined'?activeColor:selectionColor,onFocus:onFocus,onBlur:onBlur,underlineColorAndroid:'transparent',multiline:multiline,style:[styles.input,{paddingLeft:paddingLeft,paddingRight:paddingRight},!multiline||multiline&&height?{height:flatHeight}:{},paddingFlat,_objectSpread(_objectSpread({},font),{},{fontSize:fontSize,fontWeight:fontWeight,color:inputTextColor,textAlignVertical:multiline?'top':'center',textAlign:textAlign?textAlign:I18nManager.isRTL?'right':'left'}),Platform.OS==='web'&&{outline:'none'},adornmentStyleAdjustmentForNativeInput]}))),React.createElement(TextInputAdornment,adornmentProps));};export default TextInputFlat;var Underline=function Underline(_ref2){var parentState=_ref2.parentState,error=_ref2.error,colors=_ref2.colors,activeColor=_ref2.activeColor,underlineColorCustom=_ref2.underlineColorCustom;var backgroundColor=parentState.focused?activeColor:underlineColorCustom;if(error)backgroundColor=colors.error;return React.createElement(Animated.View,{style:[styles.underline,{backgroundColor:backgroundColor,transform:[{scaleY:parentState.focused?1:0.5}]}]});};var styles=StyleSheet.create({placeholder:{position:'absolute',left:0},underline:{position:'absolute',left:0,right:0,bottom:0,height:2,zIndex:1},labelContainer:{paddingTop:0,paddingBottom:0},input:{flexGrow:1,margin:0},inputFlat:{paddingTop:24,paddingBottom:4},inputFlatDense:{paddingTop:22,paddingBottom:2},patchContainer:{height:24,zIndex:2},densePatchContainer:{height:22,zIndex:2}});","map":{"version":3,"sources":["TextInputFlat.tsx"],"names":["MINIMIZED_LABEL_Y_OFFSET","LABEL_PADDING_TOP","LABEL_PADDING_TOP_DENSE","MIN_HEIGHT","MIN_DENSE_HEIGHT_WL","MIN_DENSE_HEIGHT","TextInputFlat","disabled","editable","error","render","props","multiline","rest","isAndroid","Platform","fonts","font","hasActiveOutline","parentState","fontSize","viewStyle","StyleSheet","fontSizeStyle","isPaddingHorizontalPassed","paddingHorizontal","adornmentConfig","getAdornmentConfig","left","right","paddingRight","calculateFlatInputHorizontalPadding","paddingLeft","rightLayout","rightAffixWidth","leftAffixWidth","leftLayout","adornmentStyleAdjustmentForNativeInput","getAdornmentStyleAdjustmentForNativeInput","inputOffset","mode","InputMode","Flat","inputTextColor","activeColor","color","colors","placeholderColor","underlineColorCustom","activeUnderlineColor","errorColor","underlineColor","containerStyle","backgroundColor","theme","borderTopLeftRadius","borderTopRightRadius","roundness","labelScale","MINIMIZED_LABEL_FONT_SIZE","fontScale","MAXIMIZED_LABEL_FONT_SIZE","labelWidth","labelHeight","labelHalfWidth","labelHalfHeight","baseLabelTranslateX","I18nManager","minInputHeight","dense","label","inputHeight","calculateInputHeight","topPosition","calculateLabelTopPosition","height","console","paddingSettings","offset","scale","styles","pad","calculatePadding","paddingFlat","adjustPaddingFlat","baseLabelTranslateY","placeholderOpacity","interpolatePlaceholder","minHeight","flatHeight","iconTopPosition","leftAffixTopPosition","calculateFlatAffixTopPosition","affixHeight","rightAffixTopPosition","labelProps","onLayoutAnimatedText","placeholderStyle","fontWeight","wiggleOffsetX","paddingOffset","maxFontSizeMultiplier","affixTopPosition","AdornmentSide","onAffixChange","onRightAffixLayoutChange","adornmentProps","forceFocus","AdornmentType","isTextInputFocused","textStyle","visible","labeled","testID","ref","onChangeText","placeholder","placeholderTextColor","selectionColor","onFocus","onBlur","underlineColorAndroid","style","textAlignVertical","textAlign","outline","Underline","transform","scaleY","position","underline","bottom","zIndex","labelContainer","paddingTop","paddingBottom","input","flexGrow","margin","inputFlat","inputFlatDense","patchContainer","densePatchContainer"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  View,\n  Animated,\n  TextInput as NativeTextInput,\n  StyleSheet,\n  I18nManager,\n  Platform,\n  TextStyle,\n} from 'react-native';\nimport color from 'color';\nimport InputLabel from './Label/InputLabel';\nimport TextInputAdornment, {\n  TextInputAdornmentProps,\n} from './Adornment/TextInputAdornment';\nimport type { RenderProps, ChildTextInputProps } from './types';\n\nimport {\n  MAXIMIZED_LABEL_FONT_SIZE,\n  MINIMIZED_LABEL_FONT_SIZE,\n  LABEL_WIGGLE_X_OFFSET,\n  ADORNMENT_SIZE,\n  FLAT_INPUT_OFFSET,\n} from './constants';\n\nimport {\n  calculateLabelTopPosition,\n  calculateInputHeight,\n  calculatePadding,\n  adjustPaddingFlat,\n  Padding,\n  interpolatePlaceholder,\n  calculateFlatAffixTopPosition,\n  calculateFlatInputHorizontalPadding,\n} from './helpers';\nimport {\n  getAdornmentConfig,\n  getAdornmentStyleAdjustmentForNativeInput,\n} from './Adornment/TextInputAdornment';\nimport { AdornmentSide, AdornmentType, InputMode } from './Adornment/enums';\n\nconst MINIMIZED_LABEL_Y_OFFSET = -18;\n\nconst LABEL_PADDING_TOP = 30;\nconst LABEL_PADDING_TOP_DENSE = 24;\nconst MIN_HEIGHT = 64;\nconst MIN_DENSE_HEIGHT_WL = 52;\nconst MIN_DENSE_HEIGHT = 40;\n\nconst TextInputFlat = ({\n  disabled = false,\n  editable = true,\n  label,\n  error = false,\n  selectionColor,\n  underlineColor,\n  activeUnderlineColor,\n  dense,\n  style,\n  theme,\n  render = (props: RenderProps) => <NativeTextInput {...props} />,\n  multiline = false,\n  parentState,\n  innerRef,\n  onFocus,\n  forceFocus,\n  onBlur,\n  onChangeText,\n  onLayoutAnimatedText,\n  onLeftAffixLayoutChange,\n  onRightAffixLayoutChange,\n  left,\n  right,\n  placeholderTextColor,\n  ...rest\n}: ChildTextInputProps) => {\n  const isAndroid = Platform.OS === 'android';\n  const { colors, fonts } = theme;\n  const font = fonts.regular;\n  const hasActiveOutline = parentState.focused || error;\n\n  const {\n    fontSize: fontSizeStyle,\n    fontWeight,\n    height,\n    paddingHorizontal,\n    textAlign,\n    ...viewStyle\n  } = (StyleSheet.flatten(style) || {}) as TextStyle;\n  const fontSize = fontSizeStyle || MAXIMIZED_LABEL_FONT_SIZE;\n\n  const isPaddingHorizontalPassed =\n    paddingHorizontal !== undefined && typeof paddingHorizontal === 'number';\n\n  const adornmentConfig = getAdornmentConfig({\n    left,\n    right,\n  });\n\n  let { paddingLeft, paddingRight } = calculateFlatInputHorizontalPadding({\n    adornmentConfig,\n  });\n\n  if (isPaddingHorizontalPassed) {\n    paddingLeft = paddingHorizontal as number;\n    paddingRight = paddingHorizontal as number;\n  }\n\n  const { leftLayout, rightLayout } = parentState;\n\n  const rightAffixWidth = right\n    ? rightLayout.width || ADORNMENT_SIZE\n    : ADORNMENT_SIZE;\n\n  const leftAffixWidth = left\n    ? leftLayout.width || ADORNMENT_SIZE\n    : ADORNMENT_SIZE;\n\n  const adornmentStyleAdjustmentForNativeInput =\n    getAdornmentStyleAdjustmentForNativeInput({\n      adornmentConfig,\n      rightAffixWidth,\n      leftAffixWidth,\n      paddingHorizontal,\n      inputOffset: FLAT_INPUT_OFFSET,\n      mode: InputMode.Flat,\n    });\n\n  let inputTextColor,\n    activeColor,\n    underlineColorCustom,\n    placeholderColor,\n    errorColor;\n\n  if (disabled) {\n    inputTextColor = activeColor = color(colors.text)\n      .alpha(0.54)\n      .rgb()\n      .string();\n    placeholderColor = colors.disabled;\n    underlineColorCustom = 'transparent';\n  } else {\n    inputTextColor = colors.text;\n    activeColor = error ? colors.error : activeUnderlineColor || colors.primary;\n    placeholderColor = colors.placeholder;\n    errorColor = colors.error;\n    underlineColorCustom = underlineColor || colors.disabled;\n  }\n\n  const containerStyle = {\n    backgroundColor: theme.dark\n      ? color(colors.background).lighten(0.24).rgb().string()\n      : color(colors.background).darken(0.06).rgb().string(),\n    borderTopLeftRadius: theme.roundness,\n    borderTopRightRadius: theme.roundness,\n  };\n\n  const labelScale = MINIMIZED_LABEL_FONT_SIZE / fontSize;\n  const fontScale = MAXIMIZED_LABEL_FONT_SIZE / fontSize;\n\n  const labelWidth = parentState.labelLayout.width;\n  const labelHeight = parentState.labelLayout.height;\n  const labelHalfWidth = labelWidth / 2;\n  const labelHalfHeight = labelHeight / 2;\n\n  const baseLabelTranslateX =\n    (I18nManager.isRTL ? 1 : -1) *\n      (labelHalfWidth - (labelScale * labelWidth) / 2) +\n    (1 - labelScale) * (I18nManager.isRTL ? -1 : 1) * paddingLeft;\n\n  const minInputHeight = dense\n    ? (label ? MIN_DENSE_HEIGHT_WL : MIN_DENSE_HEIGHT) - LABEL_PADDING_TOP_DENSE\n    : MIN_HEIGHT - LABEL_PADDING_TOP;\n\n  const inputHeight = calculateInputHeight(labelHeight, height, minInputHeight);\n\n  const topPosition = calculateLabelTopPosition(\n    labelHeight,\n    inputHeight,\n    multiline && height ? 0 : !height ? minInputHeight / 2 : 0\n  );\n\n  if (height && typeof height !== 'number') {\n    // eslint-disable-next-line\n    console.warn('Currently we support only numbers in height prop');\n  }\n\n  const paddingSettings = {\n    height: height ? +height : null,\n    labelHalfHeight,\n    offset: FLAT_INPUT_OFFSET,\n    multiline: multiline ? multiline : null,\n    dense: dense ? dense : null,\n    topPosition,\n    fontSize,\n    label,\n    scale: fontScale,\n    isAndroid,\n    styles: StyleSheet.flatten(\n      dense ? styles.inputFlatDense : styles.inputFlat\n    ) as Padding,\n  };\n\n  const pad = calculatePadding(paddingSettings);\n\n  const paddingFlat = adjustPaddingFlat({\n    ...paddingSettings,\n    pad,\n  });\n\n  const baseLabelTranslateY =\n    -labelHalfHeight - (topPosition + MINIMIZED_LABEL_Y_OFFSET);\n\n  const placeholderOpacity = hasActiveOutline\n    ? interpolatePlaceholder(parentState.labeled, hasActiveOutline)\n    : parentState.labelLayout.measured\n    ? 1\n    : 0;\n\n  const minHeight =\n    height ||\n    (dense ? (label ? MIN_DENSE_HEIGHT_WL : MIN_DENSE_HEIGHT) : MIN_HEIGHT);\n\n  const flatHeight =\n    inputHeight +\n    (!height ? (dense ? LABEL_PADDING_TOP_DENSE : LABEL_PADDING_TOP) : 0);\n\n  const iconTopPosition = (flatHeight - ADORNMENT_SIZE) / 2;\n\n  const leftAffixTopPosition = leftLayout.height\n    ? calculateFlatAffixTopPosition({\n        height: flatHeight,\n        ...paddingFlat,\n        affixHeight: leftLayout.height,\n      })\n    : null;\n\n  const rightAffixTopPosition = rightLayout.height\n    ? calculateFlatAffixTopPosition({\n        height: flatHeight,\n        ...paddingFlat,\n        affixHeight: rightLayout.height,\n      })\n    : null;\n\n  const labelProps = {\n    label,\n    onLayoutAnimatedText,\n    placeholderOpacity,\n    error,\n    placeholderStyle: styles.placeholder,\n    baseLabelTranslateY,\n    baseLabelTranslateX,\n    font,\n    fontSize,\n    fontWeight,\n    labelScale,\n    wiggleOffsetX: LABEL_WIGGLE_X_OFFSET,\n    topPosition,\n    paddingOffset: { paddingLeft, paddingRight },\n    hasActiveOutline,\n    activeColor,\n    placeholderColor,\n    errorColor,\n    roundness: theme.roundness,\n    maxFontSizeMultiplier: rest.maxFontSizeMultiplier,\n  };\n  const affixTopPosition = {\n    [AdornmentSide.Left]: leftAffixTopPosition,\n    [AdornmentSide.Right]: rightAffixTopPosition,\n  };\n  const onAffixChange = {\n    [AdornmentSide.Left]: onLeftAffixLayoutChange,\n    [AdornmentSide.Right]: onRightAffixLayoutChange,\n  };\n\n  let adornmentProps: TextInputAdornmentProps = {\n    paddingHorizontal,\n    adornmentConfig,\n    forceFocus,\n    topPosition: {\n      [AdornmentType.Affix]: affixTopPosition,\n      [AdornmentType.Icon]: iconTopPosition,\n    },\n    onAffixChange,\n    isTextInputFocused: parentState.focused,\n    maxFontSizeMultiplier: rest.maxFontSizeMultiplier,\n  };\n  if (adornmentConfig.length) {\n    adornmentProps = {\n      ...adornmentProps,\n      left,\n      right,\n      textStyle: { ...font, fontSize, fontWeight },\n      visible: parentState.labeled,\n    };\n  }\n\n  return (\n    <View style={[containerStyle, viewStyle]}>\n      <Underline\n        parentState={parentState}\n        underlineColorCustom={underlineColorCustom}\n        error={error}\n        colors={colors}\n        activeColor={activeColor}\n      />\n      <View\n        style={[\n          styles.labelContainer,\n          {\n            minHeight,\n          },\n        ]}\n      >\n        {!isAndroid && multiline && label && (\n          // Workaround for: https://github.com/callstack/react-native-paper/issues/2799\n          // Patch for a multiline TextInput with fixed height, which allow to avoid covering input label with its value.\n          <View\n            testID=\"patch-container\"\n            pointerEvents=\"none\"\n            style={[\n              StyleSheet.absoluteFill,\n              dense ? styles.densePatchContainer : styles.patchContainer,\n              {\n                backgroundColor:\n                  viewStyle.backgroundColor || containerStyle.backgroundColor,\n                left: paddingLeft,\n                right: paddingRight,\n              },\n            ]}\n          />\n        )}\n        <InputLabel parentState={parentState} labelProps={labelProps} />\n        {render?.({\n          testID: 'text-input-flat',\n          ...rest,\n          ref: innerRef,\n          onChangeText,\n          placeholder: label ? parentState.placeholder : rest.placeholder,\n          placeholderTextColor: placeholderTextColor ?? placeholderColor,\n          editable: !disabled && editable,\n          selectionColor:\n            typeof selectionColor === 'undefined'\n              ? activeColor\n              : selectionColor,\n          onFocus,\n          onBlur,\n          underlineColorAndroid: 'transparent',\n          multiline,\n          style: [\n            styles.input,\n            { paddingLeft, paddingRight },\n            !multiline || (multiline && height) ? { height: flatHeight } : {},\n            paddingFlat,\n            {\n              ...font,\n              fontSize,\n              fontWeight,\n              color: inputTextColor,\n              textAlignVertical: multiline ? 'top' : 'center',\n              textAlign: textAlign\n                ? textAlign\n                : I18nManager.isRTL\n                ? 'right'\n                : 'left',\n            },\n            Platform.OS === 'web' && { outline: 'none' },\n            adornmentStyleAdjustmentForNativeInput,\n          ],\n        })}\n      </View>\n      <TextInputAdornment {...adornmentProps} />\n    </View>\n  );\n};\n\nexport default TextInputFlat;\n\ntype UnderlineProps = {\n  parentState: {\n    focused: boolean;\n  };\n  error?: boolean;\n  colors: {\n    error: string;\n  };\n  activeColor: string;\n  underlineColorCustom?: string;\n};\n\nconst Underline = ({\n  parentState,\n  error,\n  colors,\n  activeColor,\n  underlineColorCustom,\n}: UnderlineProps) => {\n  let backgroundColor = parentState.focused\n    ? activeColor\n    : underlineColorCustom;\n  if (error) backgroundColor = colors.error;\n  return (\n    <Animated.View\n      style={[\n        styles.underline,\n        {\n          backgroundColor,\n          // Underlines is thinner when input is not focused\n          transform: [{ scaleY: parentState.focused ? 1 : 0.5 }],\n        },\n      ]}\n    />\n  );\n};\n\nconst styles = StyleSheet.create({\n  placeholder: {\n    position: 'absolute',\n    left: 0,\n  },\n  underline: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    height: 2,\n    zIndex: 1,\n  },\n  labelContainer: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  input: {\n    flexGrow: 1,\n    margin: 0,\n  },\n  inputFlat: {\n    paddingTop: 24,\n    paddingBottom: 4,\n  },\n  inputFlatDense: {\n    paddingTop: 22,\n    paddingBottom: 2,\n  },\n  patchContainer: {\n    height: 24,\n    zIndex: 2,\n  },\n  densePatchContainer: {\n    height: 22,\n    zIndex: 2,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}